---
title: "StatQuest_1_R-Std_Errors_explained"
author: "Delmotte Jean"
date: "5 juillet 2018"
output: html_document
---

from : https://www.youtube.com/watch?v=XNgt7F6FqDU&t=611s
Au programmme : 
- Standart erors
- Bootstraping (en bonus)

# Error Bars :
bar d'erreurs qui sont lié fortement aux erreurs standart !

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

# Fonction to install / load package if it's not here
ipak <- function(pkg){
  new.pkg <- pkg[!(pkg %in% installed.packages()[, "Package"])]
  if (length(new.pkg)) 
    install.packages(new.pkg, dependencies = TRUE)
  sapply(pkg, require, character.only = TRUE)
}

# usage
packages <- c("ggplot2", "plyr", "gtools", "dplyr", "ggridges", "stringr", "RColorBrewer",
              "lattice", "scales", "plotrix", "gridExtra", "reshape2", "tidyr", "randomForest",
              "cowplot")
ipak(packages)
```

## Dataset :

Création d'un dataset nommé "donnes" :
```{r}
donnees <- data.frame(A=c(18,17,17,17,12,5,10,8), B=c(8,12,15,10,1,5,20,7), C=c(18,15,16,14,13,17,15,15), row.names=c("ind1","ind2","ind3","ind4","ind5","ind6","ind7","ind8"))
donnees
```

Les données sont plot sur un scatterplot : (Marche pas :( )
```{r}
dotplot(donnees, use.cols = FALSE)
#donnees <- t(donnees)
dotplot(donnees)

#ggplot(donnees, aes(x= donnees$A)) + geom_bar()
#View(donnees)

```

On peut calculer la moyenne et la écart type (standart deviation) pour chaque valeur :

- la fonction mean() pour calculer la moyenne d'un vecteur
- la fonction sd() pour calculer l'écart type

On peut ensuite mettre ça dans un dataframe pour plus de visibilité :

```{r}
# A
mean(donnees$A)
sd(donnees$A)

stat <- data.frame(A=c(mean(donnees$A), sd(donnees$A)), B=c(mean(donnees$B), sd(donnees$B)), C=c(mean(donnees$C), sd(donnees$C)), row.names=c("moyenne","ecart type"))
stat
```

**Remarque :**
Sur R il existe un fonction pour afficher tout les stat d'une coup :
- summary() pour "résumé" :
```{r}
summary(donnees)
```
 En effet on peut observé la moyenne, la médiane et les différents quartiles (à détailler plus tard dans un prochain cours)
 
## On peut aussi afficher les données sous forme de "dynamite plot" :

On retrouve dedans les moyennes et les déviations standart
```{r}
dynamitePlot <- function(height, error, names = NA,
        significance = NA, ylim = c(0,maxLim)){
    maxLim <- 1.1* max(mapply(sum, height, error))
    bp <- barplot(height, names.arg = names, ylim = ylim)
    arrows(x0 = bp, y0 = height, y1 = height + error, angle = 90)
    text(x = bp, y = 0.4 + height + error, labels = significance)
}

stat <- as.matrix(donnees) # il faut que les données soient des matrices et non des dataframes

Sig <- c("A", "B", "C")
dynamitePlot(stat[1,], stat[2,], names = colnames(donnees), significance = Sig)
```
 
# Il existe 3 types commun de bars d'erreur :
## 1. Ecart type : (standard deviations abrégé sd)
- Il nous renseigne sur : comment les données sont distribués autour de la moyenne
- Un grand écart type nous indique que certaine des données sont loin de la moyenne
- Dans la plupart des cas, c'est cettre barre d'erreur qui est a utiliser dans les graphs comme il nous rensigne sur la distribution des données

## 2. Erreurs standard
- Elle nous rensegne sur comment les moyennes sont distribué (et pas les datas)

## 3. Interval de confience (Confidence Intervals)
- Elles sont relié aux erreurs standart, elles seront expliqué d'avantage dans un autre cours.

```{r}
# Display the Student's t distributions with various
# degrees of freedom and compare to the normal distribution

x <- seq(-4, 4, length=100)
hx <- dnorm(x)

degf <- c(1, 3, 8, 30)
colors <- c("red", "blue", "darkgreen", "gold", "black")
labels <- c("df=1", "df=3", "df=8", "df=30", "normal")

plot(x, hx, type="l", lty=2, xlab="x value",
  ylab="Density", main="Comparison of t Distributions")

for (i in 1:4){
  lines(x, dt(x,degf[i]), lwd=2, col=colors[i])
}

legend("topright", inset=.05, title="Distributions",
  labels, lwd=2, lty=c(1, 1, 1, 1, 2), col=colors)
```

